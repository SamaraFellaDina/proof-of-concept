
  const country = document.getElementById('countryChart');


  // Arrays to store filtered labels and data
  const filteredLabels = [];
  const filteredData = [];

  // Variables to accumulate "Other" category data
  let otherCount = 0;
  let otherValue = 0;

  // Iterate through the data rows
  <% country.rows.forEach(function(row) { 
    const value = parseInt(row.metricValues[0].value); %>

    if (<%= value %> < 10) {
      // Accumulate data for "Other" category
      otherCount++;
      otherValue += <%= value %>;
    } else {
      // Add to filtered arrays
      filteredLabels.push('<%= row.dimensionValues[0].value %>');
      filteredData.push(<%= value %>);
    }

  <% }); %>

  // Check if there are any "Other" values to add
  if (otherCount > 0) {
    filteredLabels.push('Other');
    filteredData.push(otherValue);
  }

  new Chart(country, {
    type: 'doughnut',
    data: {
      labels: filteredLabels,      
      datasets: [{
        label: 'Aantal keer bezocht',
        data: filteredData,          
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });  
